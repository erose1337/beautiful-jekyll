This is my first real post to the site. Hooray!

Note: To view this post the way it was intended to be viewed, [activate chatjax/mathjax](javascript:(function(){if(window.MathJax===undefined){var%20script%20=%20document.createElement("script");script.type%20=%20"text/javascript";script.src%20=%20"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML";var%20config%20=%20%27MathJax.Hub.Config({%27%20+%20%27extensions:%20["tex2jax.js"],%27%20+%20%27tex2jax:%20{%20inlineMath:%20[["$","$"],["\\\\\\\\\\\\(","\\\\\\\\\\\\)"]],%20displayMath:%20[["$$","$$"],["\\\\[","\\\\]"]],%20processEscapes:%20true%20},%27%20+%20%27jax:%20["input/TeX","output/HTML-CSS"]%27%20+%20%27});%27%20+%20%27MathJax.Hub.Startup.onload();%27;if%20(window.opera)%20{script.innerHTML%20=%20config}%20else%20{script.text%20=%20config}%20document.getElementsByTagName("head")[0].appendChild(script);(doChatJax=function(){window.setTimeout(doChatJax,1000);MathJax.Hub.Queue(["Typeset",MathJax.Hub]);})();}else{MathJax.Hub.Queue(["Typeset",MathJax.Hub]);}})();) (You can also [bookmark](http://www.math.ucla.edu/~robjohn/math/mathjax.html) the "activate" links, then use those bookmarks from this page to make the math render properly)

Inverting $ax + y \bmod q$
-------
Let $a = 3$, $q = 11$

Consider the sequence of elements generated by $a * 0, a * 1, a * 2, ... a * q \bmod q$:


    0 3 6 9\\
    
    1 4 7 10\\
    
    2 5 8


As the sequence is generated, we place them in a row. A new row is started each time an element become larger than the modulus and wraps around.

Note that the elements generated by $a + 0, a + 1, a + 2, ... a + q$ (addition) move downwards, then right after wrap around, while the elements generated by $a * 0, a * 1, a * 2, ...$ (multiplication) move right, then downwards upon wrapping around.

Given $a, q, a * x \bmod q$, clearly if $x < q$, then recovery of $x$ is trivial. Simply find the position of the product in the sequence, and the index of that element yields $x$. Obviously, you could also multiply by the inverse of $a$ to obtain $x$, but that's not the perspective that I am interested in here.

Similarly, given $a, q, a + y \bmod q$, with $y < q$, recover of $y$ is again trivial. 

For a concrete example, if $a * x \bmod q == 5$ and $x < q$, then clearly $x = 9$. Checking the work demonstrates that $3 * 9 \bmod 11 = 5$

When $x > q$, it is clearly not so trivial to recover the value of $x$; Only the residue of $x \bmod q$ will be recovered.
Similarly, when $y > q$, then it is clearly not so trivial to recover $y$; Only the residue of $y \bmod q$ will be recovered.

Now, consider the case of $(a * x) + y \bmod q$. 

Recall that multiplication first moves right among the rows then downwards upon wrapping around, while addition moves downwards along the column, then right when the end of the column is reached.

If $x <= 3$, and $y <= 2$, then all elements of the sequence may be reached via $(a * x) + y \bmod q$, with $0$ potentially occuring twice. 

My interest is in what happens when $x >= 3$ and/or $y >= 2$ - when the value wraps around all of the way, it appears to become non-trivial (or at least, less trivial) to recover the values of $x, y$.

When $\log(x) + \log(y) > \log(q)$, it appears to become more difficult to recover the value of $x, y$ when given $a, q, ax + y mod q$.

